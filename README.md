# 层板等分衣柜问题

Shelves are divided into equal wardrobes -> SDQW

## 写在前面的话

本项目主要参考了[leetcode中对于本题目的思路](https://leetcode.cn/circle/discuss/J1Kq0j/)与[CSDN中对于本题目的思路](https://blog.csdn.net/weixin_46089456/article/details/126557327)。非常感谢`LeetCode`用户[zhaokk](https://leetcode.cn/u/zhaokk/)与`CSDN`用户[学习份子](https://blog.csdn.net/weixin_46089456)。

调试环境如下：

键|值|版本
-|-|-
系统|`Ubuntu`|$20.04$
编译器|`g++`|$9.4.0$

## 题目描述

给定一个高度为 $2000mm$ 的柜子空间，以及 $n$ 个层板距离柜子底部高度，满足移动层板位置，使得层板等分衣柜的空间。**计算所有移动层板的顺序**。

层板号自下向上依次排列，$1, 2{\ldots}n$。层板需要考虑空间位置，**不能跨层板移动**。

![problems](https://pic.leetcode-cn.com/1655206172-XJLRyZ-IMG_4659.PNG)

示例 1

输入:n = 3，zs = 50，60，1000 输出:

321

示例 2

输入:n = 4，zs = 50，600，700，1000 输出:

1，4，3，2

4，1，3，2

4，3，1，2

4，3，2，1

提示 1:1 <= n <= 10

提示 2:输出结果需要按小到大排序

## 解题思路

本题的要求实际上是在数轴上随机放几个标志，然后让标志在约束下移动到等分位置。

那么，考虑到等分的定义，则是每一根红线都会有一个唯一的、无重复的位置，并且每一根红线到达位置后都会对周围的红线造成影响。

听起来很耳熟？没错，就是**数独**，其背后的原理就是波函数坍缩。虽然波函数坍缩适合用于解决网格求解，但是我也是将其原理照搬过来，解释这个问题是一个递归解决的问题：

我们考虑 $1$ 根红线的情况，那就是移动 $1$ 根红线完成。

我们考虑 $2$ 根红线的情况，那就是先移动 $1$ 根红线，造成了一个等分位的占用，使得第二个等分位需要另一根红线占用。也就是说，如果解决了 $1$ 根红线的情况， $2$ 根红线就可以分解为 $1$ 根红线的情况和 $1$ 个等分位被占用的红线移动问题。

同理，$3$ 根红线、$4$ 根红线、$n$ 根红线都是这么做，也就是递归的原理。

当然，红线再多，该问题也不会死锁。但是目前还不太会证明，只能说确实想不到会有无解的情况。

既然明白了是递归，那就开始寻找吧。首先构建搜索空间，也就是通过一颗多叉树构建所有的可行解，以树的层次结构为参考，每一层保存每一步的信息，进而通过深度搜索找到能够从根一直到叶子的所有路径。

理论可行，代码就能出来了。

## 运行方式

其中，该项目中没有文件后缀名的文件`SDQW`是可以直接运行的，可以直接使用命令运行：

```bash
./SDQW
```

而如果需要重新编译，则需要使用命令：

```bash
> g++ SDQW.cpp SDQW.h -o SDQW

> ./SDQW
```